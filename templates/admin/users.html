{% extends "base.html" %}
{% block title %}{{ t('manage_users') }} - Admin{% endblock %}
{% block content %}
<div class="page-header" style="background:linear-gradient(135deg,#1a0533,#3d0d6b)">
  <a href="/admin" class="back-btn" style="background:rgba(255,255,255,0.15)">â†</a>
  <div class="page-title-wrap"><div class="page-title">ğŸ‘¥ {{ t('manage_users') }}</div><div class="page-subtitle">{{ users|length }} users</div></div>
</div>
<div style="padding:14px 14px 40px;background:#F0F4FF;min-height:calc(100vh - 60px)">
  <form method="get" style="margin-bottom:14px">
    <div class="search-box" style="border-radius:var(--radius-sm)">
      <span>ğŸ”</span>
      <input type="text" name="q" value="{{ q }}" placeholder="Search name, email, ID...">
      <button type="submit" class="copy-btn">Go</button>
    </div>
  </form>
  {% if users %}
  <div class="data-list">
    {% for u in users %}
    <a href="/admin/user/{{ u.id }}" class="list-item">
      <div style="width:44px;height:44px;border-radius:14px;background:{% if u.banned %}#FEE2E2{% else %}linear-gradient(135deg,var(--primary),var(--accent)){% endif %};display:flex;align-items:center;justify-content:center;font-size:20px;color:white">
        {% if u.banned %}ğŸš«{% else %}ğŸ‘¤{% endif %}
      </div>
      <div class="list-info">
        <div class="list-name">{{ u.name }}</div>
        <div class="list-sub">{{ u.id }} â€¢ {{ u.email }}</div>
      </div>
      <div class="list-right">
        <div class="list-val">â‚¦{{ "%.0f"|format(u.naira) }}</div>
        <div class="list-meta">{{ u.completed_tasks }} tasks</div>
      </div>
    </a>
    {% endfor %}
  </div>
  {% else %}
  <div class="empty-state"><div class="empty-icon">ğŸ‘¥</div><div class="empty-title">No users found</div></div>
  {% endif %}
</div>
{% endblock %}
